[
  {
    "name": "couchloop",
    "description": "Universal intent router for CouchLoop. Routes natural language commands to the right tool automatically. Use for ambiguous commands, session management (start/end/resume), status checks, memory (save/recall), code review, package audit, protection, wellness journeys, and verification.",
    "arguments": [
      {
        "name": "intent",
        "type": "string",
        "desc": "Natural language intent to route. Examples: 'end session', 'where should I start', 'verify this code', 'what is my status'"
      },
      {
        "name": "context",
        "type": "string",
        "desc": "Additional context such as code to review, message content, or response to verify",
        "optional": true
      },
      {
        "name": "session_id",
        "type": "string",
        "desc": "Session ID if known; auto-detected otherwise",
        "optional": true
      }
    ],
    "annotations": {
      "title": "CouchLoop Router"
    }
  },
  {
    "name": "verify",
    "description": "Pre-delivery verification for AI-generated content. Catches hallucinated packages, hallucinated APIs, incorrect imports, ESM/CJS confusion, deprecated methods, security vulnerabilities, and inconsistencies. Call before presenting code, package recommendations, or factual claims to users.",
    "arguments": [
      {
        "name": "type",
        "type": "string",
        "desc": "What to verify: 'code' for syntax/APIs, 'packages' for npm/pypi existence, 'facts' for claims/statistics, 'response' for governance/tone, 'all' for comprehensive check"
      },
      {
        "name": "content",
        "type": "string",
        "desc": "The AI-generated content to verify before presenting to the user"
      },
      {
        "name": "language",
        "type": "string",
        "desc": "Programming language for code verification (e.g. typescript, python, javascript)",
        "optional": true
      },
      {
        "name": "registry",
        "type": "string",
        "desc": "Package registry to verify against: npm, pypi, maven, cargo, go, nuget, or gem",
        "optional": true
      },
      {
        "name": "context",
        "type": "string",
        "desc": "Additional context such as the user's original question or project type",
        "optional": true
      }
    ],
    "annotations": {
      "title": "Verify AI Content",
      "readOnlyHint": true
    }
  },
  {
    "name": "status",
    "description": "Dashboard and quick status checks. Returns personalized status with actionable next steps. Use for: current session progress, recent history, stored context and decisions, protection/backup status, and user preferences.",
    "arguments": [
      {
        "name": "check",
        "type": "string",
        "desc": "What to check: 'session' for current progress and checkpoints, 'history' for recent sessions and patterns, 'context' for stored decisions and constraints, 'protection' for backup status and freeze mode, 'preferences' for timezone and settings, 'all' for full dashboard"
      },
      {
        "name": "session_id",
        "type": "string",
        "desc": "Session ID for session-specific status checks",
        "optional": true
      }
    ],
    "annotations": {
      "title": "Status Dashboard",
      "readOnlyHint": true
    }
  },
  {
    "name": "conversation",
    "description": "AI conversation with guided self-reflection journeys, crisis detection, and session memory. Use for wellness and journey topics. Triggers: 'I'm stressed', 'feeling overwhelmed', 'need to talk', 'help me', 'let's chat'. Not for code questions.",
    "arguments": [
      {
        "name": "message",
        "type": "string",
        "desc": "Your message or feeling to explore in the conversation"
      },
      {
        "name": "action",
        "type": "string",
        "desc": "Session action: 'send' to send a message (default), 'start' to begin a new session, 'end' to close the current session, 'resume' to continue a previous session, 'status' to check session state",
        "optional": true
      },
      {
        "name": "journey",
        "type": "string",
        "desc": "Guided journey to follow: 'daily-reflection', 'gratitude-practice', 'weekly-review', or 'stress-release'",
        "optional": true
      },
      {
        "name": "session_id",
        "type": "string",
        "desc": "Session ID for continuity; auto-managed if not provided",
        "optional": true
      }
    ],
    "annotations": {
      "title": "Guided Conversation"
    }
  },
  {
    "name": "code_review",
    "description": "Complete code review with AI error detection. Checks security vulnerabilities (SQL injection, XSS, exposed secrets), code quality (console.logs, TODOs, error handling), code smells (complexity, bloat, anti-patterns), and AI-generated errors (hallucinated APIs, wrong imports, ESM/CJS issues).",
    "arguments": [
      {
        "name": "code",
        "type": "string",
        "desc": "Code to review"
      },
      {
        "name": "language",
        "type": "string",
        "desc": "Programming language of the code; auto-detected if not specified",
        "optional": true
      },
      {
        "name": "auto_fix",
        "type": "boolean",
        "desc": "Return an auto-fixed version alongside the identified issues",
        "optional": true
      }
    ],
    "annotations": {
      "title": "Code Review",
      "readOnlyHint": true
    }
  },
  {
    "name": "package_audit",
    "description": "Dependency audit with existence validation. Validates packages actually exist before recommending them (catches hallucinated packages). Checks for typosquatting, security vulnerabilities, deprecated versions, and maintenance status. Use before suggesting packages to users.",
    "arguments": [
      {
        "name": "packages",
        "type": "array",
        "desc": "Array of package names to audit or validate (e.g. ['react', 'lodash', 'express'])"
      },
      {
        "name": "registry",
        "type": "string",
        "desc": "Package registry to check against: npm (default), pypi, maven, cargo, go, nuget, or gem",
        "optional": true
      }
    ],
    "annotations": {
      "title": "Package Audit",
      "readOnlyHint": true
    }
  },
  {
    "name": "remember",
    "description": "Context persistence across conversations. Stores checkpoints, insights, decisions, requirements, constraints, and patterns to prevent AI amnesia. Use to save progress, recall previous decisions, or review stored context.",
    "arguments": [
      {
        "name": "content",
        "type": "string",
        "desc": "Content to save, or search query when recalling",
        "optional": true
      },
      {
        "name": "action",
        "type": "string",
        "desc": "Action to take: 'save' to store new context (default), 'recall' to retrieve a specific memory, 'list' to show recent items",
        "optional": true
      },
      {
        "name": "type",
        "type": "string",
        "desc": "Type of context being saved: 'checkpoint', 'insight', 'decision', 'requirement', 'constraint', or 'pattern'",
        "optional": true
      },
      {
        "name": "tags",
        "type": "array",
        "desc": "Tags for categorization and pattern detection (e.g. ['auth', 'database'])",
        "optional": true
      },
      {
        "name": "session_id",
        "type": "string",
        "desc": "Session ID to associate the memory with",
        "optional": true
      }
    ],
    "annotations": {
      "title": "Save & Recall Context"
    }
  },
  {
    "name": "protect",
    "description": "File protection for safe AI-assisted development. Prevents accidental deletions, creates automatic backups, enables rollback of changes, and supports code freeze mode to lock critical files.",
    "arguments": [
      {
        "name": "action",
        "type": "string",
        "desc": "Protection action: 'check' to verify an operation is safe, 'backup' to create a backup, 'rollback' to restore a previous version, 'freeze' to enable code freeze mode, 'unfreeze' to disable freeze mode, 'status' to view protection status, 'history' to list available backups"
      },
      {
        "name": "path",
        "type": "string",
        "desc": "File path for check, backup, or rollback operations",
        "optional": true
      },
      {
        "name": "operation",
        "type": "string",
        "desc": "Operation type to check for safety: 'delete', 'overwrite', or 'move'",
        "optional": true
      },
      {
        "name": "backup_id",
        "type": "string",
        "desc": "Backup ID to restore when using rollback action",
        "optional": true
      }
    ],
    "annotations": {
      "title": "File Protection"
    }
  }
]
